{%extends 'shop/base.html'%}


{%block content%}
<!-- Responsive navbar-->
<div class="offcanvas offcanvas-start" id="demo">
    <div class="offcanvas-header">
        <h1 class="offcanvas-title text-warning border ">Каталог</h1>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
        {%for c in categories%}
        <a href="{%url 'all_product_category' c.slug%}" class=" text-decoration-none text-reset"><h3
                class="">{{c.name}}</h3></a>
        {%endfor%}

    </div>
</div>

<!-- Button to open the offcanvas sidebar -->

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
{% if messages %}
{% for message in messages %}
<div class="alert alert-warning alert-dismissible fade show container" role="alert">
    <strong>{{ message }}!</strong>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}
<div class="container">
    <div>
        <button class="btn btn-outline-warning " type="button" data-bs-toggle="offcanvas" data-bs-target="#demo">
            Открыть каталог
        </button>
        <div class="card-body shadow-lg p-3 mb-5 bg-body-tertiary rounded">
            <h3 class="card-title">{{product.name_product}}</h3>
            <div class="row">
                <div class="col-lg-5 col-md-5 col-sm-6">
                    <div class="white-box text-center"><img src="{{product.image.url }}"
                                                            class="img-responsive rounded  " width="480" height="350">
                    </div>
                </div>
                <div class="col-lg-7 col-md-7 col-sm-6 shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                    <h4 class="box-title mt-5"><b>Описание товара</b></h4>
                    <p>{{product.description|safe}}</p>
                    {%if user.is_authenticated%}
                    <form action="{%url 'add_to_basket' product.id%}" method="POST">
                        {% csrf_token %}
                        <button class="btn btn-dark btn-rounded mr-1" data-toggle="tooltip" title=""
                                data-original-title="Add to cart">
                            <i class="fa fa-shopping-cart"></i>
                        </button>
                        <button type="submit" class="btn btn-warning btn-rounded color">Добавить в Корзину</button>
                    </form>
                    {%else%}
                    <a href="{%url 'sigh_up_user'%}" title="Перейдите для регистрации"><p> Необходимо зарегистрироваться
                        чтобы добавлять товар в корзину</p></a>
                    {%endif%}
                    <h3 class="box-title mt-5">Характеристики и цены</h3>
                    <ul class="list-unstyled ">
                        <li><i class="fa fa-check text-success"></i><b>Размеры:</b> {{product.size}}</li>
                        <li><i class="fa fa-check text-success"></i><b>Материал:</b> {{product.brand_of_cardboard}}</li>
                        <li><i class="fa fa-check text-success"></i><b>Цена:</b> {{product.price_1}} руб.</li>

                        <li title="Обсуждается"><i class="fa fa-check text-success"></i>Цена от 1000 шт: по запросу.
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
{%endblock%}
